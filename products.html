<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Products | Onvo Bath Fitting</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/icon.png">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Playfair+Display:wght@700;800&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
    <style>
        .category-card:hover img {
            transform: scale(1.05);
        }
        
        .product-card:hover img {
            transform: scale(1.05);
        }
        
        .back-button {
            transition: all 0.3s ease;
        }
        
        .back-button:hover {
            transform: translateX(-5px);
        }
    </style>
</head>

<body class="bg-white text-black">
    <!-- Include Menu -->
    <div id="menu-placeholder"></div>

    <!-- Products Header -->
    <section class="bg-black text-white py-20">
        <div class="container mx-auto px-6">
            <div class="text-center max-w-3xl mx-auto fade-in">
                <h1 class="text-4xl md:text-5xl font-bold mb-6">Our Premium Collections</h1>
                <p class="text-xl text-gray-300 mb-10">Discover exquisite bathroom fittings designed to elevate your space with timeless elegance and innovative functionality.</p>
            </div>
        </div>
    </section>

    <!-- Category View (Default View) -->
    <section id="category-view" class="py-16 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-bold mb-4">Explore Our Collections</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Select a category to view our premium products</p>
            </div>

            <!-- Category Grid -->
            <div id="category-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
                <!-- Categories will be dynamically populated -->
            </div>
        </div>
    </section>

    <!-- Product View (Hidden by Default) -->
    <section id="product-view" class="py-16 bg-white hidden">
        <div class="container mx-auto px-6">
            <div class="mb-10">
                <button id="back-to-categories" class="back-button flex items-center text-gold font-bold text-lg mb-6">
                    <i class="fas fa-arrow-left mr-2"></i> Back to Collections
                </button>
                <h2 id="category-title" class="text-3xl md:text-4xl font-bold mb-2"></h2>
                <p class="text-gray-600 max-w-2xl">Discover our premium products in this collection</p>
            </div>

            <!-- Product Grid -->
            <div id="product-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                <!-- Products will be dynamically populated -->
            </div>
        </div>
    </section>

    <!-- Include Footer -->
    <div id="footer-placeholder"></div>

    <!-- JavaScript -->
    <script src="js/main.js"></script>
    <script>
        // Load menu and footer
        fetch('menu.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('menu-placeholder').innerHTML = data;
                // Re-initialize any menu functionality if needed
                const mobileMenuButton = document.getElementById('mobile-menu-button');
                const mobileMenu = document.getElementById('mobile-menu');
                if (mobileMenuButton && mobileMenu) {
                    mobileMenuButton.addEventListener('click', function() {
                        mobileMenu.classList.toggle('hidden');
                    });

                    // Close mobile menu when clicking on a link
                    const mobileLinks = mobileMenu.querySelectorAll('a');
                    mobileLinks.forEach(link => {
                        link.addEventListener('click', function() {
                            mobileMenu.classList.add('hidden');
                        });
                    });
                }
            });

        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            });

        // Category data - Updated to match actual folder structure
        const categories = [{
            name: "Aqua - Amaze",
            folder: "Aqua - Amaze",
            image: "assets/products/Aqua - Amaze/AM 901.JPG"
        }, {
            name: "Classic - Curve",
            folder: "Classic - Curve",
            image: "assets/products/Classic - Curve/CU 201.JPG"
        }, {
            name: "Crystal - Eva",
            folder: "Crystal - Eva",
            image: "assets/products/Crystal - Eva/EV 301.JPG"
        }, {
            name: "Extraa",
            folder: "Extraa",
            image: "assets/products/Extraa/KET03935.JPG"
        }, {
            name: "Ocean - Cadiz",
            folder: "Ocean - Cadiz",
            image: "assets/products/Ocean - Cadiz/CA 801.JPG"
        }, {
            name: "Ornamix - Metro",
            folder: "Ornamix - Metro",
            image: "assets/products/Ornamix - Metro/ME 601.JPG"
        }, {
            name: "Project Angle Valve",
            folder: "Project Angle Valve",
            image: "assets/products/Project Angle Valve/160 GM FUSION ANGLE VALVE  -- 349.JPG"
        }, {
            name: "Rapid - Rivo",
            folder: "Rapid - Rivo",
            image: "assets/products/Rapid - Rivo/RI 101.JPG"
        }, {
            name: "Rubik - Rossa",
            folder: "Rubik - Rossa",
            image: "assets/products/Rubik - Rossa/RS 1001.JPG"
        }, {
            name: "Sleek - Artiz",
            folder: "Sleek - Artiz",
            image: "assets/products/Sleek - Artiz/AR 501.JPG"
        }, {
            name: "Sparky - Roma",
            folder: "Sparky - Roma",
            image: "assets/products/Sparky - Roma/RO 401.JPG"
        }, {
            name: "Wave - Iris",
            folder: "Wave - Iris",
            image: "assets/products/Wave - Iris/IR 701.JPG"
        }];

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderCategories();
            setupEventListeners();

            // Handle browser back/forward buttons
            window.addEventListener('popstate', function(event) {
                if (event.state && event.state.view === 'products') {
                    showProducts(event.state.categoryName, event.state.categoryFolder, false);
                } else {
                    // Show category view
                    document.getElementById('product-view').classList.add('hidden');
                    document.getElementById('category-view').classList.remove('hidden');
                    document.getElementById('category-title').textContent = '';
                    window.scrollTo(0, 0);
                }
            });
        });

        // Render category grid
        function renderCategories() {
            const categoryGrid = document.getElementById('category-grid');
            categoryGrid.innerHTML = '';

            categories.forEach(category => {
                const categoryElement = `
                    <div class="category-card bg-white rounded-xl overflow-hidden shadow-lg border border-gray-100 transition-all duration-300 hover:shadow-xl cursor-pointer" data-category="${category.folder}">
                        <div class="h-64 overflow-hidden">
                            <img src="${category.image}" alt="${category.name}" class="w-full h-full object-cover transition-transform duration-500">
                        </div>
                        <div class="p-6 text-center">
                            <h3 class="text-2xl font-bold">${category.name}</h3>
                        </div>
                    </div>
                `;
                categoryGrid.innerHTML += categoryElement;
            });
        }

        // Setup event listeners
        function setupEventListeners() {
            // Mobile menu toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', function() {
                    mobileMenu.classList.toggle('hidden');
                });

                // Close mobile menu when clicking on a link
                const mobileLinks = mobileMenu.querySelectorAll('a');
                mobileLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        mobileMenu.classList.add('hidden');
                    });
                });
            }

            // Category click events (using event delegation)
            document.getElementById('category-grid').addEventListener('click', function(e) {
                const categoryCard = e.target.closest('.category-card');
                if (categoryCard) {
                    const categoryName = categoryCard.querySelector('h3').textContent;
                    const categoryFolder = categoryCard.getAttribute('data-category');
                    showProducts(categoryName, categoryFolder);
                }
            });

            // Back to categories button
            document.getElementById('back-to-categories').addEventListener('click', function() {
                document.getElementById('product-view').classList.add('hidden');
                document.getElementById('category-view').classList.remove('hidden');
                document.getElementById('category-title').textContent = '';
                window.scrollTo(0, 0);
                history.back();
            });
        }

        // Show products for a specific category
        function showProducts(categoryName, categoryFolder, pushState = true) {
            // Update UI
            document.getElementById('category-title').textContent = categoryName;
            document.getElementById('category-view').classList.add('hidden');
            document.getElementById('product-view').classList.remove('hidden');

            // Render products
            renderProducts(categoryFolder);

            // Add to browser history
            if (pushState) {
                history.pushState({
                    view: 'products',
                    categoryName: categoryName,
                    categoryFolder: categoryFolder
                }, categoryName, '#products');
            }

            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Render products for a specific category
        function renderProducts(categoryFolder) {
            const productGrid = document.getElementById('product-grid');
            productGrid.innerHTML = '<p class="text-center text-gray-600 col-span-3">Loading products...</p>';

            // Simulate loading products (in a real app, this would come from a server or file system)
            setTimeout(() => {
                // In a real implementation, we would dynamically read the files from the folder
                // For now, we'll simulate with placeholder images
                let productsHTML = '';

                // We'll create a mapping of categories to their images
                const categoryImages = {
                    'Aqua - Amaze': ['AM 901.JPG', 'AM 902.JPG', 'AM 903.JPG', 'AM 904.JPG', 'AM 905.JPG', 'AM 908.JPG', 'AM 909.JPG', 'AM 910.JPG', 'AM 911.JPG', 'AM 912.JPG', 'AM 913.JPG', 'AM 914.JPG', 'AM 915.JPG', 'AM 921.JPG'],
                    'Classic - Curve': ['CU 201.JPG', 'CU 202.JPG', 'CU 203.JPG', 'CU 204.JPG', 'CU 205 (2).JPG', 'CU 206.JPG', 'CU 207.JPG', 'CU 208.JPG', 'CU 209.JPG', 'CU 210.JPG', 'CU 211.JPG', 'CU 212.JPG', 'CU 213 (2).JPG', 'CU 214.JPG', 'CU 221.JPG'],
                    'Crystal - Eva': ['EV 301.JPG', 'EV 302.JPG', 'EV 303.JPG', 'EV 304.JPG', 'EV 305.JPG', 'EV 306.JPG', 'EV 307.JPG', 'EV 308.JPG', 'EV 309.JPG', 'EV 310.JPG', 'EV 311.JPG', 'EV 312.JPG', 'EV 313.JPG', 'EV 314.JPG', 'EV 321.JPG'],
                    'Extraa': ['KET03935.JPG', 'KET03936.JPG', 'KET03937.JPG', 'KET03938.JPG', 'KET03940.JPG', 'KET03943.JPG', 'KET03944.JPG'],
                    'Ocean - Cadiz': ['CA 801.JPG', 'CA 802.JPG', 'CA 803.JPG', 'CA 804.JPG', 'CA 805.JPG', 'CA 806.JPG', 'CA 807 (2).JPG', 'CA 807.JPG', 'CA 808.JPG', 'CA 809.JPG', 'CA 810.JPG', 'CA 811.JPG', 'CA 812.JPG', 'CA 813 (2).JPG', 'CA 814.JPG', 'CA 815.JPG', 'CA 816.JPG', 'CA 817.JPG', 'CA 818.JPG', 'CA 819.JPG', 'CA 820.JPG', 'CA 821.JPG'],
                    'Ornamix - Metro': ['ME 601.JPG', 'ME 602.JPG', 'ME 603.JPG', 'ME 604.JPG', 'ME 605.JPG', 'ME 606.JPG', 'ME 607.JPG', 'ME 608.JPG', 'ME 609.JPG', 'ME 610.JPG', 'ME 611.JPG', 'ME 612.JPG', 'ME 613.JPG', 'ME 614.JPG', 'ME 621.JPG'],
                    'Project Angle Valve': ['160 GM FUSION ANGLE VALVE  -- 349.JPG', '160 GM OPAL ANGLE VALVE  -- 349.JPG', '160 GM PAAN ANGLE VALVE   -- 349.JPG', '160 GM PATTI ANGLE VALVE   --349.JPG', '160 GM TURBO ANGLE VALVE  -- 339.JPG', '180 GM FUSION ANGLE VALVE   -- 379.JPG', '180 GM OPAL ANGLE VALVE  -- 379.JPG', '180 GM PAAN ANGLE VALVE   -- 379.JPG', '180 GM PATTI ANGLE VALVE  -- 379.JPG', '180 GM TURBO ANGLE VALVE  --369.JPG', '190 GM SQUARE ANGLE VALVE  --439.JPG', '200 GM FUSION ANGLE VALVE   -- 419.JPG', '200 GM TURBO ANGLE VALVE  -- 399.JPG'],
                    'Rapid - Rivo': ['RI 101.JPG', 'RI 102.JPG', 'RI 103.JPG', 'RI 104.JPG', 'RI 105 (3).JPG', 'RI 106.JPG', 'RI 107.JPG', 'RI 108.JPG', 'RI 109.JPG', 'RI 110.JPG', 'RI 111.JPG', 'RI 112.JPG', 'RI 113.JPG', 'RI 114.JPG', 'RI 121.JPG'],
                    'Rubik - Rossa': ['RS 1001.JPG', 'RS 1002.JPG', 'RS 1003.JPG', 'RS 1004.JPG', 'RS 1005.JPG', 'RS 1006.JPG', 'RS 1007.JPG', 'RS 1008.JPG', 'RS 1009.JPG', 'RS 1010.JPG', 'RS 1011.JPG', 'RS 1012.JPG', 'RS 1013.JPG', 'RS 1014.JPG', 'RS 1015.JPG', 'RS 1016.JPG', 'RS 1017.JPG', 'RS 1018.JPG', 'RS 1021.JPG'],
                    'Sleek - Artiz': ['AR 501.JPG', 'AR 502.JPG', 'AR 503.JPG', 'AR 504.JPG', 'AR 505.JPG', 'AR 506.JPG', 'AR 507.JPG', 'AR 508.JPG', 'AR 509.JPG', 'AR 510.JPG', 'AR 511.JPG', 'AR 512.JPG', 'AR 513.JPG', 'AR 514 (2).JPG', 'AR 521.JPG'],
                    'Sparky - Roma': ['RO 401.JPG', 'RO 402.JPG', 'RO 403.JPG', 'RO 404.JPG', 'RO 405 (2).JPG', 'RO 406.JPG', 'RO 407.JPG', 'RO 408.JPG', 'RO 409.JPG', 'RO 410.JPG', 'RO 411.JPG', 'RO 412.JPG', 'RO 413.JPG', 'RO 414.JPG', 'RO 421.JPG'],
                    'Wave - Iris': ['IR 701.JPG', 'IR 702.JPG', 'IR 703.JPG', 'IR 704.JPG', 'IR 705.JPG', 'IR 706.JPG', 'IR 707.JPG', 'IR 708.JPG', 'IR 709.JPG', 'IR 710.JPG', 'IR 711.JPG', 'IR 712.JPG', 'IR 713.JPG', 'IR 714.JPG', 'IR 715.JPG', 'IR 721.JPG']
                };

                const images = categoryImages[categoryFolder] || [];

                if (images.length > 0) {
                    images.forEach((image, index) => {
                        // Extract product name from filename (remove extension)
                        const productName = image.replace(/\.[^/.]+$/, "");
                        productsHTML += `
                            <div class="product-card bg-white rounded-xl overflow-hidden shadow-lg border border-gray-100 transition-all duration-300 hover:shadow-xl">
                                <div class="h-80 overflow-hidden">
                                    <img src="assets/products/${categoryFolder}/${image}" alt="${productName}" class="w-full h-full object-contain transition-transform duration-500 bg-gray-50 p-4">
                                </div>
                                <div class="p-6 text-center">
                                    <h3 class="text-xl font-bold mb-2">${productName}</h3>
                                    <p class="text-gray-600 mb-4">Premium bathroom fitting with elegant design</p>
                                    <button class="btn-outline-gold w-full">View Details</button>
                                </div>
                            </div>
                        `;
                    });
                } else {
                    productsHTML = '<p class="text-center text-gray-600 col-span-3">No products available in this category.</p>';
                }

                productGrid.innerHTML = productsHTML;
            }, 500);
        }
    </script>
</body>

</html>