<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Products | Onvo Bath Fitting</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/icon.png">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Playfair+Display:wght@700;800&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
    <style>
        .category-card:hover img {
            transform: scale(1.05);
        }
        
        .product-card:hover img {
            transform: scale(1.05);
        }
        
        .back-button {
            transition: all 0.3s ease;
        }
        
        .back-button:hover {
            transform: translateX(-5px);
        }
    </style>
</head>

<body class="bg-white text-black">
    <!-- Include Menu -->
    <div id="menu-placeholder"></div>

    <!-- Products Header -->
    <section class="bg-black text-white py-20">
        <div class="container mx-auto px-6">
            <div class="text-center max-w-3xl mx-auto fade-in">
                <h1 class="text-4xl md:text-5xl font-bold mb-6">Our Premium Collections</h1>
                <p class="text-xl text-gray-300 mb-10">Discover exquisite bathroom fittings designed to elevate your space with timeless elegance and innovative functionality.</p>
            </div>
        </div>
    </section>

    <!-- Category View (Default View) -->
    <section id="category-view" class="py-16 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-bold mb-4">Explore Our Collections</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Select a category to view our premium products</p>
            </div>

            <!-- Category Grid -->
            <div id="category-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
                <!-- Categories will be dynamically populated -->
            </div>
        </div>
    </section>

    <!-- Product View (Hidden by Default) -->
    <section id="product-view" class="py-16 bg-white hidden">
        <div class="container mx-auto px-6">
            <div class="mb-10">
                <button id="back-to-categories" class="back-button flex items-center text-gold font-bold text-lg mb-6">
                    <i class="fas fa-arrow-left mr-2"></i> Back to Collections
                </button>
                <h2 id="category-title" class="text-3xl md:text-4xl font-bold mb-2"></h2>
                <p class="text-gray-600 max-w-2xl">Discover our premium products in this collection</p>
            </div>

            <!-- Product Grid -->
            <div id="product-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                <!-- Products will be dynamically populated -->
            </div>
        </div>
    </section>

    <!-- Include Footer -->
    <div id="footer-placeholder"></div>

    <!-- JavaScript -->
    <script src="js/main.js"></script>
    <script>
        // Load menu and footer
        fetch('menu.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('menu-placeholder').innerHTML = data;
                // Re-initialize any menu functionality if needed
                const mobileMenuButton = document.getElementById('mobile-menu-button');
                const mobileMenu = document.getElementById('mobile-menu');
                if (mobileMenuButton && mobileMenu) {
                    mobileMenuButton.addEventListener('click', function() {
                        mobileMenu.classList.toggle('hidden');
                    });

                    // Close mobile menu when clicking on a link
                    const mobileLinks = mobileMenu.querySelectorAll('a');
                    mobileLinks.forEach(link => {
                        link.addEventListener('click', function() {
                            mobileMenu.classList.add('hidden');
                        });
                    });
                }
            });

        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            });

        // Category data - Updated to match actual folder structure with requested order
        const categories = [{
            name: "Ocean",
            folder: "Ocean",
            image: "assets/products/Ocean/KET00371.JPG"
        }, {
            name: "Sparky",
            folder: "Sparky",
            image: "assets/products/Sparky/KET01481.JPG"
        }, {
            name: "Rapid",
            folder: "Rapid",
            image: "assets/products/Rapid/KET03672.JPG"
        }, {
            name: "Classic",
            folder: "Classic",
            image: "assets/products/Classic/KET00580.JPG"
        }, {
            name: "Oranamix",
            folder: "Oranamix",
            image: "assets/products/Oranamix/KET01477.JPG"
        }, {
            name: "Rubik",
            folder: "Rubik",
            image: "assets/products/Rubik/KET00587.JPG"
        }, {
            name: "Wave",
            folder: "Wave",
            image: "assets/products/Wave/KET02142.JPG"
        }, {
            name: "Sleek",
            folder: "Sleek",
            image: "assets/products/Sleek/KET03652.JPG"
        }, {
            name: "Aqua",
            folder: "Aqua",
            image: "assets/products/Aqua/KET01474.JPG"
        }, {
            name: "Crystal",
            folder: "Crystal",
            image: "assets/products/Crystal/KET00575.JPG"
        }, {
            name: "Angle valve",
            folder: "Angle valve",
            image: "assets/products/Angle valve/KET03660.JPG"
        }];

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderCategories();
            setupEventListeners();

            // Handle browser back/forward buttons
            window.addEventListener('popstate', function(event) {
                if (event.state && event.state.view === 'products') {
                    showProducts(event.state.categoryName, event.state.categoryFolder, false);
                } else {
                    // Show category view
                    document.getElementById('product-view').classList.add('hidden');
                    document.getElementById('category-view').classList.remove('hidden');
                    document.getElementById('category-title').textContent = '';
                    window.scrollTo(0, 0);
                }
            });
        });

        // Render category grid
        function renderCategories() {
            const categoryGrid = document.getElementById('category-grid');
            categoryGrid.innerHTML = '';

            categories.forEach(category => {
                const categoryElement = `
                    <div class="category-card bg-white rounded-xl overflow-hidden shadow-lg border border-gray-100 transition-all duration-300 hover:shadow-xl cursor-pointer" data-category="${category.folder}">
                        <div class="h-64 overflow-hidden">
                            <img src="${category.image}" alt="${category.name}" class="w-full h-full object-cover transition-transform duration-500">
                        </div>
                        <div class="p-6 text-center">
                            <h3 class="text-2xl font-bold">${category.name}</h3>
                        </div>
                    </div>
                `;
                categoryGrid.innerHTML += categoryElement;
            });
        }

        // Setup event listeners
        function setupEventListeners() {
            // Mobile menu toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', function() {
                    mobileMenu.classList.toggle('hidden');
                });

                // Close mobile menu when clicking on a link
                const mobileLinks = mobileMenu.querySelectorAll('a');
                mobileLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        mobileMenu.classList.add('hidden');
                    });
                });
            }

            // Category click events (using event delegation)
            document.getElementById('category-grid').addEventListener('click', function(e) {
                const categoryCard = e.target.closest('.category-card');
                if (categoryCard) {
                    const categoryName = categoryCard.querySelector('h3').textContent;
                    const categoryFolder = categoryCard.getAttribute('data-category');
                    showProducts(categoryName, categoryFolder);
                }
            });

            // Back to categories button
            document.getElementById('back-to-categories').addEventListener('click', function() {
                document.getElementById('product-view').classList.add('hidden');
                document.getElementById('category-view').classList.remove('hidden');
                document.getElementById('category-title').textContent = '';
                window.scrollTo(0, 0);
                history.back();
            });
        }

        // Show products for a specific category
        function showProducts(categoryName, categoryFolder, pushState = true) {
            // Update UI
            document.getElementById('category-title').textContent = categoryName;
            document.getElementById('category-view').classList.add('hidden');
            document.getElementById('product-view').classList.remove('hidden');

            // Render products
            renderProducts(categoryFolder);

            // Add to browser history
            if (pushState) {
                history.pushState({
                    view: 'products',
                    categoryName: categoryName,
                    categoryFolder: categoryFolder
                }, categoryName, '#products');
            }

            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Define the actual product images for each category
        const categoryImages = {
            'Ocean': ['KET00371.JPG', 'KET00571.JPG', 'KET00572.JPG', 'KET00573.JPG', 'KET00574.JPG', 'KET00591.JPG', 'KET00592.JPG', 'KET00597.JPG', 'KET01479.JPG', 'KET01506.JPG', 'KET01512.JPG', 'KET01513.JPG', 'KET02135.JPG', 'KET02136.JPG', 'KET02138.JPG', 'KET03676.JPG', 'KET03677.JPG', 'KET03688.JPG', 'KET03723.JPG', 'KET03729.JPG', 'KET03734.JPG', 'KET03962.JPG'],
            'Aqua': ['KET01468.JPG', 'KET01473.JPG', 'KET01474.JPG', 'KET01475.JPG', 'KET01485.JPG', 'KET01486.JPG', 'KET01493.JPG', 'KET01497.JPG', 'KET01501.JPG', 'KET01503.JPG', 'KET02150.JPG', 'KET03738.JPG', 'KET03739.JPG'],
            'Classic': ['KET00580.JPG', 'KET00581.JPG', 'KET00582.JPG', 'KET00584.JPG', 'KET00586.JPG', 'KET00590.JPG', 'KET00594.JPG', 'KET00598.JPG', 'KET01507.JPG', 'KET01510.JPG', 'KET01514.JPG', 'KET03687.JPG', 'KET03727.JPG', 'KET03735.JPG'],
            'Crystal': ['KET00575.JPG', 'KET00576.JPG', 'KET00577.JPG', 'KET00578.JPG', 'KET00579.JPG', 'KET00589.JPG', 'KET00593.JPG', 'KET00596.JPG', 'KET01496.JPG', 'KET01500.JPG', 'KET01502.JPG', 'KET03689.JPG', 'KET03730.JPG', 'KET03736.JPG'],
            'Oranamix': ['KET01470.JPG', 'KET01472.JPG', 'KET01477.JPG', 'KET01478.JPG', 'KET01487.JPG', 'KET01488.JPG', 'KET01489.JPG', 'KET01492.JPG', 'KET01495.JPG', 'KET01505.JPG', 'KET01509.JPG', 'KET01516.JPG', 'KET03731.JPG', 'KET03739.JPG'],
            'Rapid': ['KET02133.JPG', 'KET02137.JPG', 'KET02139.JPG', 'KET02143.JPG', 'KET02144.JPG', 'KET03667.JPG', 'KET03668.JPG', 'KET03669.JPG', 'KET03670.JPG', 'KET03672.JPG', 'KET03732.JPG', 'KET03737.JPG', 'KET03740.JPG', 'KET03741.JPG', 'KET03742.JPG'],
            'Rubik': ['KET00587.JPG', 'KET00588.JPG', 'KET00595.JPG', 'KET01476.JPG', 'KET01508.JPG', 'KET01511.JPG', 'KET01517.JPG', 'KET02130.JPG', 'KET02131.JPG', 'KET02134.JPG', 'KET02140.JPG', 'KET02145.JPG', 'KET02146.JPG', 'KET02147.JPG', 'KET02149.JPG', 'KET03673.JPG', 'KET03678.JPG', 'KET03679.JPG'],
            'Sleek': ['KET03649.JPG', 'KET03650.JPG', 'KET03651.JPG', 'KET03652.JPG', 'KET03653.JPG', 'KET03654.JPG', 'KET03655.JPG', 'KET03656.JPG', 'KET03657.JPG', 'KET03725.JPG', 'KET03733.JPG', 'KET03743.JPG', 'KET03744.JPG', 'KET03745.JPG', 'KET03750.JPG'],
            'Sparky': ['KET01469.JPG', 'KET01471.JPG', 'KET01480.JPG', 'KET01481.JPG', 'KET01482.JPG', 'KET01484.JPG', 'KET01490.JPG', 'KET01491.JPG', 'KET01494.JPG', 'KET01498.JPG', 'KET01499.JPG', 'KET01504.JPG', 'KET02148.JPG', 'KET03733.JPG'],
            'Wave': ['KET02132.JPG', 'KET02141.JPG', 'KET02142.JPG', 'KET03661.JPG', 'KET03662.JPG', 'KET03663.JPG', 'KET03664.JPG', 'KET03665.JPG', 'KET03666.JPG', 'KET03726.JPG', 'KET03728.JPG', 'KET03746.JPG', 'KET03747.JPG', 'KET03748.JPG', 'KET03749.JPG'],
            'Angle valve': ['KET03660.JPG', 'KET03671.JPG', 'KET03674.JPG', 'KET03675.JPG', 'KET03680.JPG', 'KET03681.JPG', 'KET03682.JPG', 'KET03683.JPG', 'KET03684.JPG', 'KET03685.JPG', 'KET03686.JPG'],
        };

        // Render products for a specific category
        function renderProducts(categoryFolder) {
            const productGrid = document.getElementById('product-grid');
            productGrid.innerHTML = '<p class="text-center text-gray-600 col-span-3">Loading products...</p>';

            // Simulate loading products
            setTimeout(() => {
                let productsHTML = '';

                const images = categoryImages[categoryFolder] || [];

                if (images.length > 0) {
                    images.forEach((image, index) => {
                        // Extract product name from filename (remove extension)
                        const productName = image.replace(/\.[^/.]+$/, "");
                        productsHTML += `
                            <div class="product-card bg-white rounded-xl overflow-hidden shadow-lg border border-gray-100 transition-all duration-300 hover:shadow-xl">
                                <div class="h-80 overflow-hidden">
                                    <img src="assets/products/${categoryFolder}/${image}" alt="${productName}" class="w-full h-full object-contain transition-transform duration-500 bg-gray-50 p-4">
                                </div>
                                <div class="p-6 text-center">
                                    <h3 class="text-xl font-bold mb-2">${productName}</h3>
                                    <p class="text-gray-600 mb-4">Premium bathroom fitting with elegant design</p>
                                    <button class="btn-outline-gold w-full">View Details</button>
                                </div>
                            </div>
                        `;
                    });
                } else {
                    productsHTML = '<p class="text-center text-gray-600 col-span-3">No products available in this category.</p>';
                }

                productGrid.innerHTML = productsHTML;
            }, 500);
        }
    </script>
</body>

</html>